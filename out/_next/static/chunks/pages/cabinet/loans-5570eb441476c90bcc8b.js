_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[26],{"43wv":function(e,t,r){"use strict";var n=r("rePB");function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var a={user:null,loggedIn:!1,authenticatingUser:!1,failedLogin:!1,error:null};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return c(c({},e),{},{user:t.payload,error:null,loggedIn:!0,authenticatingUser:!1});case"AUTHENTICATING_USER":return c(c({},e),{},{authenticatingUser:!0});case"AUTHENTICATED_USER":return c(c({},e),{},{authenticatingUser:!1});case"FAILED_LOGIN":return c(c({},e),{},{failedLogin:!0,error:t.payload,authenticatingUser:!1});case"LOGOUT_USER":return c(c({},e),{},{user:null,loggedIn:!1,authenticatingUser:!1,failedLogin:!1,error:null});default:return e}}},"7W2i":function(e,t,r){var n=r("SksO");e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},Nsbk:function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(t)}e.exports=r},PJYZ:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},a1gu:function(e,t,r){var n=r("cDf5"),s=r("PJYZ");e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?s(e):t}},hNt4:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(){var e,t=(new Date).getHours();return t<12?e="\u0414\u043e\u0431\u0440\u043e\u0435 \u0443\u0442\u0440\u043e":t>=12&&t<=17?e="\u0414\u043e\u0431\u0440\u044b\u0439 \u0434\u0435\u043d\u044c":t>=17&&t<=24&&(e="\u0414\u043e\u0431\u0440\u044b\u0439 \u0432\u0435\u0447\u0435\u0440"),e}},"pe3+":function(e,t,r){"use strict";r.r(t);var n=r("o0o1"),s=r.n(n),c=r("HaE+"),a=r("1OyB"),i=r("vuIU"),o=r("Ji7U"),u=r("md7G"),l=r("foSv"),h=r("nKUr"),d=r("q1tI"),j=r.n(d),p=r("/MKj"),f=r("toLX"),b=(r("43wv"),r("hNt4")),O=(r("GObB"),r("w18f")),x=r("nOHt"),m=r.n(x),g=r("GUC0"),v=r.n(g),y=r("8Kt/"),S=r.n(y),N=r("vDqi"),w=r.n(N);function E(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var s=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var U=function(e){Object(o.a)(r,e);var t=E(r);function r(){return Object(a.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"render",value:function(){switch(this.props.userStatus.userStatus.stage){case 1:return Object(h.jsxs)("div",{className:"mt-5",children:[Object(h.jsx)("h5",{className:"text-center",children:"\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0437\u0430\u0432\u044f\u043a\u0430"}),Object(h.jsxs)("div",{className:"cabinetmessage text-center",children:["\u0423 \u0432\u0430\u0441 \u0437\u0430\u0438\u043c \u0432 \u0441\u0442\u0430\u0442\u0443\u0441\u0435",Object(h.jsx)("b",{children:'"\u041b\u044c\u0433\u043e\u0442\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434"'})]}),Object(h.jsx)("div",{children:Object(h.jsxs)("table",{className:"lperiod",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438 \ud83d\udcc5"}),Object(h.jsx)("th",{children:"\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u043b\u044c\u0433\u043e\u0442\u043d\u043e\u0433\u043e \u043f\u0435\u0440\u0438\u043e\u0434\u0430 \ud83d\udcc5"}),Object(h.jsx)("th",{children:"\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0434\u043e\u043b\u0433 \ud83d\udcb8"}),Object(h.jsx)("th",{children:"C\u0443\u043c\u043c\u0430 \u043f\u043e\u0433\u0430\u0448\u0435\u043d\u0438\u044f \u043b\u044c\u0433\u043e\u0442\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434 \ud83d\udcb8"}),Object(h.jsx)("th",{children:"\u0421\u0443\u043c\u043c\u0430 \u0437\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u0434\u0430\u0442\u0443"}),Object(h.jsx)("th",{children:"\u0414\u0430\u0442\u0430 \u043f\u043e\u0433\u0430\u0448\u0435\u043d\u0438\u044f \ud83d\udcc5"})]})}),Object(h.jsx)("tbody",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:this.props.userStatus.userStatus.givenDate}),Object(h.jsx)("td",{children:this.props.userStatus.userStatus.lp}),Object(h.jsx)("td",{children:this.props.userStatus.userStatus.mainAmount}),Object(h.jsx)("td",{children:this.props.userStatus.userStatus.lpAmount}),Object(h.jsx)("td",{children:this.props.userStatus.userStatus.todayAmount}),Object(h.jsx)("td",{children:this.props.userStatus.userStatus.endDate})]})})]})})]});case 2:return Object(h.jsxs)("div",{className:"mt-5",children:[Object(h.jsx)("h5",{className:"text-center",children:"\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0437\u0430\u0432\u044f\u043a\u0430"}),Object(h.jsxs)("div",{className:"cabinetmessage text-center",children:["\u0423 \u0432\u0430\u0441 \u0437\u0430\u0438\u043c \u0432 \u0441\u0442\u0430\u0442\u0443\u0441\u0435",Object(h.jsx)("b",{children:'"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 \u0437\u0430\u0438\u043c"'})]}),Object(h.jsx)("div",{children:Object(h.jsxs)("table",{className:"vdolge",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438 \ud83d\udcc5"}),Object(h.jsx)("th",{children:"\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0434\u043e\u043b\u0433 \ud83d\udcb8"}),Object(h.jsx)("th",{children:"\u0421\u0443\u043c\u043c\u0430 \u0437\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u0434\u0430\u0442\u0443"}),Object(h.jsx)("th",{children:"\u0414\u0430\u0442\u0430 \u043f\u043e\u0433\u0430\u0448\u0435\u043d\u0438\u044f \ud83d\udcc5"})]})}),Object(h.jsx)("tbody",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:this.props.userStatus.userStatus.givenDate}),Object(h.jsx)("td",{children:this.props.userStatus.userStatus.mainAmount}),Object(h.jsx)("td",{children:this.props.userStatus.userStatus.todayAmount}),Object(h.jsx)("td",{children:this.props.userStatus.userStatus.endDate})]})})]})})]});case 3:return Object(h.jsxs)("div",{className:"mt-5",children:[Object(h.jsxs)("div",{className:"container alert alert-primary",children:[Object(h.jsx)("h4",{className:"alert-heading",children:"\u0421\u0442\u0430\u0442\u0443\u0441 \u0432\u0430\u0448\u0435\u0433\u043e \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u0437\u0430\u0438\u043c\u0430"}),Object(h.jsx)("hr",{}),Object(h.jsxs)("p",{className:"mb-0",children:[Object(h.jsx)("b",{children:"\u0412\u044b \u0432 \u043f\u0440\u043e\u0441\u0440\u043e\u0447\u043a\u0435."})," \u0423\u0442\u043e\u0447\u043d\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443 \u0434\u043e\u043b\u0433\u0430 \u043f\u043e \u043d\u043e\u043c\u0435\u0440\u0443 ",Object(h.jsx)("b",{children:Object(h.jsx)("a",{href:"tel:+77272501500",children:"+7 727 250 1500"})}),", ",Object(h.jsx)("b",{children:Object(h.jsx)("a",{href:"tel:+77007501500",children:"+7 700 750 1500"})})," \u0438\u043b\u0438 \u043d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0432",Object(h.jsx)("b",{children:Object(h.jsxs)("a",{classname:"whatsapptext",href:"https://api.whatsapp.com/send?phone=+77015382439",target:"_blank",children:[" WhatsApp ",Object(h.jsx)("i",{class:"fa fa-whatsapp","aria-hidden":"true"})]})})," "]})]}),Object(h.jsxs)("div",{className:"cabinetmessage text-center",children:["\u0423 \u0432\u0430\u0441 \u0437\u0430\u0438\u043c \u0432 \u0441\u0442\u0430\u0442\u0443\u0441\u0435",Object(h.jsx)("b",{children:'"\u041f\u0440\u043e\u0441\u0440\u043e\u0447\u0435\u043d"'})]}),Object(h.jsx)("div",{})]});case 4:return Object(h.jsxs)("div",{className:"container",children:[Object(h.jsxs)("div",{className:"alert alert-primary",children:[Object(h.jsx)("h4",{className:"alert-heading",children:"\u0421\u0442\u0430\u0442\u0443\u0441 \u0432\u0430\u0448\u0435\u0433\u043e \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u0437\u0430\u0438\u043c\u0430"}),Object(h.jsx)("hr",{}),Object(h.jsxs)("p",{className:"mb-0",children:[Object(h.jsx)("b",{children:"\u0412\u044b \u0432 \u043f\u0440\u043e\u0441\u0440\u043e\u0447\u043a\u0435."})," \u0423\u0442\u043e\u0447\u043d\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0430 \u0434\u043e\u043b\u0433\u0430 \u043f\u043e \u043d\u043e\u043c\u0435\u0440\u0443 ",Object(h.jsxs)("a",{classname:"whatsapp",href:"https://api.whatsapp.com/send?phone=+77015382439",target:"_blank",children:[Object(h.jsx)("i",{class:"fa fa-whatsapp","aria-hidden":"true"}),"  +7 701 538 2439 (WhatsApp)"]})]})]}),Object(h.jsxs)("div",{className:"cabinetmessage text-center",children:["\u0423 \u0432\u0430\u0441 \u0437\u0430\u0438\u043c \u0432 \u0441\u0442\u0430\u0442\u0443\u0441\u0435",Object(h.jsx)("b",{children:'"\u041f\u0440\u043e\u0441\u0440\u043e\u0447\u0435\u043d"'})]})]});case 5:case 6:return Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"alert alert-primary",children:[Object(h.jsx)("h4",{className:"alert-heading",children:"\u0421\u0442\u0430\u0442\u0443\u0441 \u0432\u0430\u0448\u0435\u0433\u043e \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u043e\u0433\u043e \u0437\u0430\u0438\u043c\u0430"}),Object(h.jsx)("hr",{}),Object(h.jsx)("p",{className:"mb-0",children:this.props.userStatus.userStatus.message})]})});default:return Object(h.jsx)("div",{})}}}]),r}(j.a.Component),R=Object(p.connect)((function(e){return{userStatus:e.userStatus,userHistory:e.userHistory}}))(U);function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var s=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var _=function(e){Object(o.a)(r,e);var t=k(r);function r(){return Object(a.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"render",value:function(){return this.props.userHistory.userHistory.data?Object(h.jsx)("div",{children:this.props.userHistory.userHistory.data.length>0?Object(h.jsxs)("div",{children:[Object(h.jsxs)("h5",{className:"text-center mt-5",children:["\u041c\u043e\u044f \u0438\u0441\u0442\u043e\u0440\u0438\u044f ("," "+this.props.userHistory.userHistory.data.length+" "," )"]}),Object(h.jsxs)("table",{className:"userHistory",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"\u0421\u0443\u043c\u043c\u0430 \u0437\u0430\u0438\u043c\u0430"}),Object(h.jsx)("th",{children:"\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438"}),Object(h.jsx)("th",{children:"\u0414\u0430\u0442\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u0430"})]})}),this.props.userHistory.userHistory.data.map((function(e){return Object(h.jsx)("tbody",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e.amount}),Object(h.jsx)("td",{children:e.start}),Object(h.jsx)("td",{children:e.close})]})})}))]})]}):Object(h.jsx)("div",{className:"text-center mt-5",children:Object(h.jsx)("h5",{})})}):Object(h.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430.."})}}]),r}(j.a.Component),T=Object(p.connect)((function(e){return{userHistory:e.userHistory}}))(_),A=r("Qyv4");function H(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var s=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var I=function(e){Object(o.a)(r,e);var t=H(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).state={btnLoading:!1},n.state={sendRepeat:!0},n.state={step:""},n.state={repeatMessage:""},n}return Object(i.a)(r,[{key:"canSendRepeat",value:function(){var e=this;w.a.get("https://api.money-men.kz/api/repeatUser?iin=".concat(this.props.userReducer.user.UF_4)).then((function(t){1==t.data.success&&e.setState({sendRepeat:!0}),0==t.data.success?(e.setState({sendRepeat:!1}),e.setState({repeatMessage:t.data.message})):console.log(t)}))}},{key:"getCurrentStep",value:function(){var e=this;w.a.get("https://api.money-men.kz/api/notFull?iin=".concat(this.props.userReducer.user.UF_4),{headers:{"Access-Control-Allow-Origin":"*"}}).then((function(t){console.log(t),t.data.success&&e.setState({step:t.data.step})})).catch(console.log("log"))}},{key:"componentDidMount",value:function(){this.getCurrentStep(),this.canSendRepeat(),window.scrollTo(0,0),this.props.fetchUserStatus(),this.props.fetchUserHistory()}},{key:"handleRepeated",value:function(){var e=Object(c.a)(s.a.mark((function e(){var t=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1===this.state.sendRepeat&&v()("Oops!","".concat(this.state.repeatMessage||"\u0412\u0430\u043c \u043f\u043e\u043a\u0430 \u043e\u0442\u043a\u0430\u0437\u0430\u043d\u043e \u043f\u043e\u0434\u0430\u0432\u0430\u0442\u044c \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u044b\u0439 \u0437\u0430\u0439\u043c"," "),"error"),3!==this.state.step&&!0===this.state.canSendRepeat&&m.a.push("/cabinet/continue"),!0!==this.state.sendRepeat||3!==this.state.step){e.next=8;break}return this.setState({btnLoading:!0}),e.next=6,w.a.get("https://api.money-men.kz/api/repeatUser?iin=".concat(this.props.userReducer.user.UF_4)).then((function(e){1==e.data.success&&(m.a.push("/cabinet/repeated"),t.setState({btnLoading:!1})),0==e.data.success?(t.setState({btnLoading:!1}),v()("Oops!","".concat(e.data.message||"\u0412\u0430\u043c \u043f\u043e\u043a\u0430 \u043e\u0442\u043a\u0430\u0437\u0430\u043d\u043e \u043f\u043e\u0434\u0430\u0432\u0430\u0442\u044c \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u044b\u0439 \u0437\u0430\u0439\u043c"," "),"error")):console.log(e)}));case 6:e.next=9;break;case 8:console.log("hello");case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(A.a)(this.props.userReducer.user.UF_4)?Object(h.jsxs)("div",{className:"container otherPages",children:[Object(h.jsxs)("p",{className:"welcome text-center",children:[Object(b.a)()," ",this.props.userReducer.user.UF_5," "+this.props.userReducer.user.UF_6,"!"]}),Object(h.jsxs)("div",{className:"alert alert-info",role:"alert",children:[Object(h.jsx)("h4",{className:"alert-heading",children:"\u0412\u0430\u0448 \u043a\u043e\u043d\u0442\u0440\u0430\u043a\u0442 \u043f\u0440\u043e\u0434\u0430\u043d"}),Object(h.jsxs)("p",{children:["\u0412\u0430\u0448 \u043a\u043e\u043d\u0442\u0440\u0430\u043a\u0442 \u041f\u0420\u041e\u0414\u0410\u041d \u0432 ",Object(h.jsx)("b",{children:"\u0422\u041e\u041e \u201c\u041a\u043e\u043b\u043b\u0435\u043a\u0442\u043e\u0440\u0441\u043a\u043e\u0435 \u0430\u0433\u0435\u043d\u0442\u0441\u0442\u0432\u043e \u201c\u0410\u0439\u0414\u0438 \u041a\u043e\u043b\u043b\u0435\u043a\u0442\u201d"})]}),Object(h.jsxs)("p",{className:"m-b-0",children:["\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 ",Object(h.jsxs)("b",{children:[Object(h.jsx)("a",{href:"tel:+77000037733",children:"\u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"}),"/",Object(h.jsx)("a",{href:"https://api.whatsapp.com/send?phone=+77000037733",target:"_blank",children:"Whatsapp"}),": +7 700 003 77 33"]}),Object(h.jsx)("br",{}),"Email: ",Object(h.jsx)("a",{href:"mailto:info@idcollect.kz",children:Object(h.jsx)("b",{children:"info@idcollect.kz"})})]})]})]}):Object(h.jsxs)("div",{className:"otherPages",children:[Object(h.jsx)(S.a,{children:Object(h.jsx)("title",{children:"\u041a\u0430\u0431\u0438\u043d\u0435\u0442 | I-credit.kz"})}),this.state.btnLoading?Object(h.jsx)("div",{className:"modelLoader"}):Object(h.jsx)("div",{className:"modelLoader loaded"}),!0===this.props.userReducer.authenticatingUser?Object(h.jsx)("div",{className:"modelLoader"}):Object(h.jsx)("div",{className:"modelLoader loaded"}),Object(h.jsxs)("p",{className:"welcome text-center",children:[Object(b.a)()," ",this.props.userReducer.user.UF_5," "+this.props.userReducer.user.UF_6,"!"]}),!1===this.props.userStatus.userStatus.success?Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:"repeatBtn form-group",children:Object(h.jsx)("button",{className:"mt-5",onClick:function(){return e.handleRepeated()},children:"\u041f\u043e\u0432\u0442\u043e\u0440\u043d\u044b\u0439 \u0437\u0430\u0439\u043c"})})}):Object(h.jsx)("div",{}),this.props.userStatus.isLoading?Object(h.jsx)("div",{className:"mt-5",children:Object(h.jsxs)("div",{class:"placeholder",children:[Object(h.jsx)("div",{class:"loader"}),Object(h.jsx)("div",{class:"loader"}),Object(h.jsx)("div",{class:"loader"})]})}):Object(h.jsx)(R,{}),this.props.userHistory.isLoading?Object(h.jsx)("div",{children:Object(h.jsxs)("div",{class:"placeholder mt-5",children:[Object(h.jsx)("div",{class:"loader"}),Object(h.jsx)("div",{class:"loader"}),Object(h.jsx)("div",{class:"loader"})]})}):Object(h.jsx)(T,{})]})}}]),r}(j.a.Component);t.default=Object(f.a)(Object(p.connect)((function(e){return{userReducer:e.userReducer,userStatus:e.userStatus,userHistory:e.userHistory}}),(function(e){return{fetchUserStatus:function(){return e(Object(O.fetchUserStatus)())},fetchUserHistory:function(){return e(Object(O.fetchUserHistory)())}}}))(I))},rePB:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return n}))},toLX:function(e,t,r){"use strict";var n=r("1OyB"),s=r("vuIU"),c=r("Ji7U"),a=r("md7G"),i=r("foSv"),o=r("nKUr"),u=r("q1tI"),l=r.n(u),h=r("/MKj"),d=r("nOHt"),j=r.n(d),p=r("w18f"),f=r("p46w"),b=r.n(f);function O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(i.a)(e);if(t){var s=Object(i.a)(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return Object(a.a)(this,r)}}t.a=function(e){var t=function(t){Object(c.a)(a,t);var r=O(a);function a(){return Object(n.a)(this,a),r.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){b.a.get("token")&&!this.props.loggedIn&&this.props.fetchCurrentUser(),b.a.get("token")||j.a.push("/login")}},{key:"render",value:function(){return b.a.get("token")&&this.props.loggedIn?Object(o.jsx)(e,{}):!b.a.get("token")||!this.props.authenticatingUser&&this.props.loggedIn?Object(o.jsxs)("div",{className:"otherPages",children:[Object(o.jsx)("div",{className:"modelLoader"}),Object(o.jsx)("h2",{className:"text-center pt-5",children:"\u0412\u0440\u0435\u043c\u044f \u0432\u0430\u0448\u0435\u0433\u043e \u0441\u0435\u0430\u043d\u0441\u0430 \u0438\u0441\u0442\u0435\u043a\u043b\u043e"})]}):Object(o.jsxs)("div",{className:"otherPages",children:[Object(o.jsx)("div",{className:"pd-5 pt-5"}),Object(o.jsx)("div",{className:"modelLoader"})]})}}]),a}(l.a.Component);return Object(h.connect)((function(e){return{loggedIn:e.userReducer.loggedIn,authenticatingUser:e.userReducer.authenticatingUser}}),p)(t)}},w18f:function(e,t,r){"use strict";r.r(t),r.d(t,"authenticatingUser",(function(){return i})),r.d(t,"setCurrentUser",(function(){return o})),r.d(t,"dateLoading",(function(){return u})),r.d(t,"dateFailed",(function(){return l})),r.d(t,"statusSuccess",(function(){return h})),r.d(t,"historySuccess",(function(){return d})),r.d(t,"logoutUser",(function(){return j})),r.d(t,"loginUser",(function(){return p})),r.d(t,"fetchCurrentUser",(function(){return f})),r.d(t,"fetchUserStatus",(function(){return b})),r.d(t,"fetchUserHistory",(function(){return O})),r.d(t,"fetchAdmin",(function(){return x}));var n=r("p46w"),s=r.n(n),c=r("nOHt"),a=r.n(c),i=function(){return{type:"AUTHENTICATING_USER"}},o=function(e){return{type:"SET_CURRENT_USER",payload:e}},u=function(){return{type:"DATE_LOADING"}},l=function(e){return{type:"DATE_FAILED",payload:e}},h=function(e){return{type:"STATUS_SUCCESS",payload:e}},d=function(e){return{type:"HISTORY_SUCCESS",payload:e}},j=function(){return{type:"LOGOUT_USER"}},p=function(e){return function(t){t({type:"AUTHENTICATING_USER"}),fetch("https://api.money-men.kz/api/login",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)}).then((function(e){if(e.ok)return e;var t=new Error("Error ".concat(e.status,": ").concat(e.statusText));throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(e){s.a.set("token",e.access_token,{expires:2});var r=t(f());console.log(r),t({type:"SET_CURRENT_USER",payload:"user"}),a.a.push("/cabinet/loans")})).catch((function(e){e.message.includes("400")?t({type:"FAILED_LOGIN",payload:"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0418\u0418\u041d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"}):t({type:"FAILED_LOGIN",payload:e.message})}))}},f=function(){return function(e){e(i()),fetch("https://api.money-men.kz/api/getUserProfileFromBitrix",{method:"GET",headers:{Authorization:"Bearer ".concat(s.a.get("token"))}}).then((function(e){if(e.ok)return e;var t=new Error("Error ".concat(e.status,": ").concat(e.statusText));throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(t){e(o(t))})).catch((function(e){s.a.remove("token"),console.log(e.message||"Error")}))}},b=function(){return function(e){e(u(!0)),fetch("https://api.money-men.kz/api/getUserInfo",{method:"GET",headers:{Authorization:"Bearer ".concat(s.a.get("token"))}}).then((function(e){if(e.ok)return e;var t=new Error("Error ".concat(e.status,": ").concat(e.statusText));throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(t){e(h(t))})).catch((function(t){s.a.remove("token"),e(l(t.message||"\u0414\u0430\u043d\u043d\u044b\u0435 \u0432\u0435\u0440\u043d\u044b. ")),console.log(t.message||"Error")}))}},O=function(){return function(e){e(u(!0)),fetch("https://api.money-men.kz/api/history",{method:"GET",headers:{Authorization:"Bearer ".concat(s.a.get("token"))}}).then((function(e){if(e.ok)return e;var t=new Error("Error ".concat(e.status,": ").concat(e.statusText));throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(t){e(d(t))})).catch((function(t){s.a.remove("token"),e(l(t.message)),console.log(t.message||"Error")}))}},x=function(){return function(e){e(i()),fetch("http://localhost:8000/api/getProfile?token=".concat(s.a.get("admin_token")),{method:"GET"}).then((function(e){if(e.ok)return e;var t=new Error("Error ".concat(e.status,": ").concat(e.statusText));throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(t){e(o(t))})).catch((function(e){s.a.remove("admin_token"),console.log(e.message||"Error")}))}}},zkE5:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cabinet/loans",function(){return r("pe3+")}])}},[["zkE5",0,1,2,3,4,5,6,14]]]);