_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[44],{Eo8B:function(t,e,s){"use strict";s.r(e);var r=s("o0o1"),a=s.n(r),u=s("HaE+"),n=s("1OyB"),i=s("vuIU"),o=s("Ji7U"),c=s("md7G"),p=s("foSv"),d=s("nKUr"),h=s("q1tI"),l=s.n(h),S=s("nOHt"),m=s.n(S),f=s("vDqi"),j=s.n(f),b=s("GUC0"),g=s.n(b),v=s("8Kt/"),O=s.n(v),k=s("tNPP"),x=s("uuUm"),N=s("Otl1"),y=s("uJQ+");function _(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var s,r=Object(p.a)(t);if(e){var a=Object(p.a)(this).constructor;s=Reflect.construct(r,arguments,a)}else s=r.apply(this,arguments);return Object(c.a)(this,s)}}function w(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))}var C=function(t){Object(o.a)(r,t);var e=_(r);function r(t){var s;return Object(n.a)(this,r),(s=e.call(this,t)).state={token:null,loading:!1,docs:[],id:null,id_req:null,sign:"",isCodeSent:!1,code_conf:null,errorInCode:null,phone:null,rest:null},s}return Object(i.a)(r,[{key:"getUserDocument",value:function(){var t=Object(u.a)(a.a.mark((function t(e){var s=this;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({loading:!0}),t.next=3,j.a.get("https://api.money-men.kz/api/newGetData?token=".concat(e)).then((function(t){console.log(t),t.data.success?s.setState({docs:t.data.docs,id:t.data.id,id_req:t.data.id_req,loading:!1,rest:t.data.rest,phone:t.data.phone}):m.a.push("/")})).catch((function(t){s.setState({loading:!1}),m.a.push("/")}));case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getCode",value:function(){var t=Object(u.a)(a.a.mark((function t(){var e=this;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.get("https://api.money-men.kz/api/sendSms?phone=".concat(this.state.phone),{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(t){t.success&&e.setState({isCodeSent:!0})})).catch((function(t){console.log(t)}));case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"sendAgreementStatusForRest",value:function(){var t=Object(u.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===this.state.code_conf){t.next=3;break}return t.next=3,j.a.get("https://api.money-men.kz/api/sendSms",{params:{id:this.state.id,phone:this.state.phone,token:this.state.token,id_req:this.state.id_req,code:this.state.code_conf,sign:"y"}},{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(t){t.success&&g()("\u0423\u0441\u043f\u0435\u0448\u043d\u043e!","".concat(t.message),"success").then((function(){m.a.push("/")}))})).catch((function(t){console.log(t)}));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"sendAgreementStatusWithRest",value:function(){var t=this;this.setState({loading:!0}),j.a.get("https://api.money-men.kz/api/prolongationAgreement?sign=y&request_id=".concat(this.state.id)).then((function(e){t.setState({loading:!1}),e.data.success&&g()("\u0423\u0441\u043f\u0435\u0448\u043d\u043e!","success").then((function(){m.a.push("/")}))})).catch((function(e){t.setState({loading:!1}),console.log(e),m.a.push("/")}))}},{key:"sendAgreementStatus",value:function(){var t=Object(u.a)(a.a.mark((function t(){var e=this;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.setState({loading:!0});try{j.a.get("https://api.money-men.kz/api/agreementNew ",{params:{id:this.state.id,phone:this.state.phone,token:this.state.token,id_req:this.state.id_req,sign:"y"}}).then((function(t){e.setState({loading:!1}),t.data.success&&g()("\u0423\u0441\u043f\u0435\u0448\u043d\u043e!","\u041d\u0430\u0448\u0438 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442\u044b \u0441\u0432\u044f\u0436\u0443\u0442\u0441\u044f \u0441 \u0412\u0430\u043c\u0438 \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0438 15 \u043c\u0438\u043d\u0443\u0442").then((function(){m.a.push("/")}))}))}catch(s){this.setState({loading:!1}),console.log(s),m.a.push("/")}case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){0===w("token").length?m.a.push("/"):this.setState({token:w("token")}),this.getUserDocument(0!==w("token").length?w("token"):null)}},{key:"render",value:function(){var t=this;return Object(d.jsxs)("div",{className:"container otherPages",children:[Object(d.jsx)(O.a,{children:Object(d.jsx)("title",{children:"\u0421\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435"})}),this.state.loading?Object(d.jsx)("div",{className:"modelLoader"}):Object(d.jsx)("div",{className:"modelLoader loaded",children:" "}),Object(d.jsx)("div",{className:"row justify-content-center",children:Object(d.jsx)("div",{className:"col-md-12",children:Object(d.jsxs)("div",{className:"agreements-block",children:[Object(d.jsx)("h4",{align:"center",children:"\u0421\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(d.jsxs)("ul",{className:"complete",children:[Object(d.jsxs)("li",{children:[Object(d.jsx)("img",{className:"checkedComplete",src:s("jI6F")}),Object(d.jsx)(k.a,{fio:"{this.props.userStatus.userStatus.fio}",dateOfBirth:"{this.props.userReducer.user.UF_10}",address:"{this.props.userStatus.userStatus.address}",phone:"{this.props.userStatus.userStatus.phone}",email:"{this.props.userStatus.userStatus.email}",placeOfWork:"{this.props.userReducer.user.UF_31}",position:"{this.props.userReducer.user.UF_33}",iin:"{this.props.userStatus.userStatus.iin}",cardNumber:"{this.props.userStatus.userStatus.cardNumber}",startCard:"{this.props.userStatus.userStatus.startCard}",endCard:"{this.props.userStatus.userStatus.endCard}",placeOfBirth:"{this.props.userReducer.user.UF_46}",insuranceAmount:"{this.props.userStatus.userStatus.insuranceAmount}",givenDate:"{this.props.userStatus.userStatus.givenDate}",code:"{this.props.userStatus.userStatus.code}",period:"{this.props.userStatus.userStatus.period}"})]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("img",{className:"checkedComplete",src:s("jI6F")}),Object(d.jsx)(x.a,{fio:"{this.props.userStatus.userStatus.fio}",dateOfBirth:"{this.props.userReducer.user.UF_10}",address:"{this.props.userStatus.userStatus.address}",iin:"{this.props.userStatus.userStatus.iin}",cardNumber:"{this.props.userStatus.userStatus.cardNumber}",contractNumber:"{this.props.userStatus.userStatus.contractNumber}",insuranceAmount:"{this.props.userStatus.userStatus.insuranceAmount}",code:"{this.props.userStatus.userStatus.code}",period:"{this.props.userStatus.userStatus.period}",reward:"{this.props.userStatus.userStatus.reward}"})]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("img",{className:"checkedComplete",src:s("jI6F")}),Object(d.jsx)(N.a,{contractNumber:"{this.props.userStatus.userStatus.contractNumber}",givenDate:"{this.props.userStatus.userStatus.givenDate}",endDate:"{this.props.userStatus.userStatus.endDate}",fio:"{this.props.userStatus.userStatus.fio}",address:"{this.props.userStatus.userStatus.address}",phone:"{this.props.userStatus.userStatus.phone}",iin:"{this.props.userStatus.userStatus.iin}",insuranceAmount:"{this.props.userStatus.userStatus.insuranceAmount}",reward:"{this.props.userStatus.userStatus.reward}",cardNumber:"{this.props.userStatus.userStatus.cardNumber}",cardGiven:"{this.props.userStatus.userStatus.cardGiven}",startCard:"{this.props.userStatus.userStatus.startCard}",email:"{this.props.userStatus.userStatus.email}",period:"{this.props.userStatus.userStatus.period}"})]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("img",{className:"checkedComplete",src:s("jI6F")}),Object(d.jsx)(y.a,{main:"{this.props.userStatus.userStatus.main}",reward:"{this.props.userStatus.userStatus.reward}",fio:"{this.props.userStatus.userStatus.fio}",iin:"{this.props.userStatus.userStatus.iin}",address:"{this.props.userStatus.userStatus.address}",cardNumber:"{this.props.userStatus.userStatus.cardNumber}",cardGiven:"{this.props.userStatus.userStatus.cardGiven}",startCard:"{this.props.userStatus.userStatus.startCard}",endCard:"{this.props.userStatus.userStatus.endCard}",dateOfBirth:"{this.props.userReducer.user.UF_10}",phone:"{this.props.userStatus.userStatus.phone}",iban:"{this.props.userStatus.userStatus.iban}",email:"{this.props.userStatus.userStatus.email}",contractNumber:"{this.props.userStatus.userStatus.contractNumber}",givenDate:"{this.props.userStatus.userStatus.givenDate}",endDate:"{this.props.userStatus.userStatus.endDate}",total:"{this.props.userStatus.userStatus.total}",period:"{this.props.userStatus.userStatus.period}"})]})]}),Object(d.jsx)("div",{className:"repeatBtn form-group",children:!0===this.state.rest?Object(d.jsx)("button",{onClick:function(){return t.sendAgreementStatusWithRest()},className:"mt-5",children:"\u0421\u043e\u0433\u043b\u0430\u0448\u0430\u044e\u0441\u044c"}):Object(d.jsx)("button",{onClick:function(){return t.sendAgreementStatus()},className:"mt-5",children:"\u0421\u043e\u0433\u043b\u0430\u0448\u0430\u044e\u0441\u044c"})})]})})})]})}}]),r}(l.a.Component);e.default=C},NYbR:function(t,e,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/newAggrements",function(){return s("Eo8B")}])},jI6F:function(t,e){t.exports="/_next/static/images/checked-542f69ac8fd42a1c46953a5547bba55d.png"}},[["NYbR",0,1,11,13,15,2,3,4,6,16]]]);